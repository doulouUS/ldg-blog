---
layout: post
title: Catching up with the cloud trend and the AWS ecosystem
canonical_url: https://medium.com/data-science/catching-up-with-the-cloud-trend-and-the-aws-ecosystem-dd512e8e2456?source=rss-7a9ab51dbc22------2
tag:
- cloud
- cloud-computing
- aws
- cloud-services
---

<figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*Edi16KQzTtEjQdaPwkfOzQ.jpeg" /><figcaption>Gardens by the Bay in Singapore. <a href="https://www.pexels.com/@pixabay">Pixabay</a>.</figcaption></figure><p><em>A few months back, I was completely ignorant about the cloud business and its offerings, despite hearing about it over and over.</em> <em>Being a standard in the data science industry, I had to catch up with the trend. In this article, I’ll share with you what I learned about Amazon Web Services (AWS), the market leader. I will also show you which cloud architecture and AWS services could be used as the backend of a global, data-intensive web application such as </em><a href="https://slack.com/intl/en-sg/"><em>Slack</em></a><em>. It helps but is not mandatory if you have some basic understanding of computer networking (IP address, client, server, etc.) for the second part of the article.</em></p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*rASzGLvK6VJAAw9szzKjPQ.png" /><figcaption>An overview of the Slack cloud architecture on AWS. <a href="https://aws.amazon.com/solutions/case-studies/slack/">Source</a></figcaption></figure><h3>Introduction</h3><p>Cloud computing has been around for quite some years now. Amazon first popularized the concept in 2006, before the other tech giants followed in 2008 (Google) and 2010 (Microsoft). At the heart of this technological shift is the idea that you shouldn’t be bothering with setting up your own IT systems unless this is your job in the first place. How is this possible? Let’s get straight into it!</p><h3>Understand cloud computing and the AWS ecosystem</h3><h4>Cloud computing definition</h4><p>First, we should define what the whole fuss is about. Cloud computing is a service allowing you to access IT resources and applications:</p><ul><li>on-demand,</li><li>through the Internet,</li><li>with a pay-as-you-go pricing</li></ul><p>It basically means that you could create the new killer app using Amazon’s servers (<em>IT Resources</em>), sitting at home (<em>through the Internet</em>), scaling your infrastructure as your app grows or slows down (<em>on-demand</em>), but always paying for what you are using (<em>pay-as-you-go</em>).</p><p>Needless to say that this setup allows you to really focus on your product and not on procurement, IT maintenance or scaling. You benefit from the economies of scale done by tech giants. As an example, AWS, Amazon’s cloud computing business, is used by Netflix for almost all its backend infrastructure. When you link this to the fact that Netflix accounts for almost 15% of downstream traffic on the internet (see the <a href="https://www.sandvine.com/press-releases/sandvine-releases-2019-global-internet-phenomena-report">2019 Sandvine report</a>), it becomes clear that most probably, AWS strongly negotiated when buying their servers, electricity, etc. allowing their end customers to enjoy lower prices.</p><p>Last but not least, cloud providers spread their data centers all over the world. That concretely means that you will be able to serve your users with roughly the same speed throughout the world as it is very likely that they are close to the cloud providers&#39; facilities. That allows you to create applications for a global audience, within minutes, without the hassle of setting up hardware in different geographies.</p><p>Let us now focus on AWS, the largest cloud provider out there (33% market share according to data from <a href="https://www.srgresearch.com/articles/cloud-service-spending-still-growing-almost-40-year-half-it-won-amazon-microsoft">Synergy Research Group</a>, Q2 2019). Let’s see how AWS has built its worldwide IT infrastructure in a resilient manner to actually deliver what we described.</p><h4>AWS infrastructure setup</h4><p>So far, AWS has defined 22 <em>regions</em> throughout the world (see map below) where it has installed clusters of IT infrastructure. Each cluster is called an <em>Availability Zone</em> (AZ) and there should be at least two per region (but usually three). In turn, each AZ is made of multiple <em>data centers. </em>Finally, each data center is made of potentially thousands of servers.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*VqmGVGIXZYYX9iJce_KunA.png" /><figcaption>Approximate locations of AWS regions (yellow) and edge locations (blue). Based on <a href="https://aws.amazon.com/about-aws/global-infrastructure/regions_az/">AWS’s website</a>.</figcaption></figure><p>For instance, one of the regions AWS has defined is Singapore where I reside. There are currently three AZs, let’s assume they are located in Changi (East), the business district (South) and Jurong (West). Each one has its own building, guarded 24/7. It also has separate power and network connectivity in order to limit disruption in case the region is affected by a storm or say, lightning for Singapore. However, the three AZs are connected to each other through low-latency (optic fiber) links. This way your app can be physically duplicated and serve more traffic. If you choose this setup, your app is said to be a <em>High Availability</em> app. This redundancy makes your app more resilient as well, with traffic being routed to any remaining functional AZ in case of an outage.</p><p>What if now, your user is located in the Philippines? There is no AZ there. Your app may not be as fast as in Singapore. That’s why AWS has also built data centers at many <em>Edge Locations. </em>An Edge Location is basically a cache data center that brings static content closer to the users for low latency connectivity. There are more than 180 such locations today all over the world allowing you to quickly download your Netflix movies even when you are far from an AWS region. This service is made possible by Amazon <em>CloudFront</em>, a Content Delivery Network (CDN).</p><p>By looking at the map, you can still notice areas with no AWS presence. AWS network is still a work in progress and it is obviously driven by market forces to develop its regions. However, it is worth mentioning that it has some stringent requirements regarding for instance power providers which bars it from installing regions anywhere. This is the result of high levels of service guaranteed by AWS. For instance, its storage service S3 (Simple Storage Service) boasts a 99.999999999% durability. That concretely means that if you store 10 million objects on S3 (each object can contain up to 5TB of data), you can expect to lose one object every 10,000 years. With these levels of guarantees, it makes sense to build regions on solid foundations.</p><h3>Building the architecture of a web application on AWS</h3><p>Let’s now explore the AWS services that are needed to build a web application.</p><h4><strong>Basic setup</strong></h4><p>In the simplest setting, you would place your web application, your database, etc. on a single <em>Elastic Cloud Compute </em>(EC2) instance. This is the most popular service on AWS and is basically a virtual computer running on a server in one of AWS’s regions. It is said to be <em>Elastic</em> because you can start and stop your instance (or put simply your computer) as needed. You are able to select the hardware specifications (memory, CPU, GPU…) as well as the software configuration called an <em>Amazon Machine Image</em> (AMI) including the Operating System (Windows, Linux, etc.). After setting up your compute instance, you will need to take care of a few other things as well, mainly Networking, Storage and Security. We will explore in more detail the Networking and Security aspects in my next post, stay tuned!</p><p>Once your EC2 instance is up and running, you will launch your app on a specific port (say 5000 for a <a href="https://en.wikipedia.org/wiki/Flask_(web_framework)">Flask</a> app). Knowing the IP address of your properly configured instance, people should be able to access your app from the internet now. However, in a browser, we usually use human-readable addresses like <em>medium.com.</em> That is why you need to set up a Domain Name System (DNS), a web service that will translate the site name (<em>medium.com) </em>into an IP address (104.16.120.127). As with everything in the cloud, AWS provides this service and it is called <em>Route 53.</em></p><figure><img alt="" src="https://cdn-images-1.medium.com/max/522/1*JOh_QHJeQWn7Z4HsmuDjKg.png" /><figcaption>A (very) basic setup for your app.</figcaption></figure><h4><strong>Solving the availability problem</strong></h4><p>This is great, however, if you need to shut down your EC2 instance or in case of a power outage, you will lose all your data generated by your web application without mentioning that your website will be down. How to make your data persistent then? This is where you want to use a database instance, separated from the initial EC2 instance. You could use a second EC2 instance and set up everything yourself, manage the database, etc. but this is troublesome. Instead, AWS has fully-managed database services. For structured data (like tabular data), you could choose to go for Amazon<em> Relational Database Service </em>(Amazon RDS) on which you can run several possible database engines like <a href="https://en.wikipedia.org/wiki/MySQL">MySQL</a>, <a href="https://en.wikipedia.org/wiki/PostgreSQL">PostgreSQL</a> or <a href="https://aws.amazon.com/rds/aurora/">Amazon <em>Aurora</em></a><em> </em>(said to be 3 times faster than PostgreSQL).</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/533/1*xnHlnOTaZfB06w9EMzxybA.png" /></figure><p>So with this, your data is safe, awesome. However, your website is still down in case of an outage. Let’s make your app more resilient, or <em>HA</em> (High Availability) in AWS jargon.</p><p>If your EC2 instance is down, it means that the AZ in which it is sitting is experiencing issues, right? Then, let’s use a second AZ, less likely to be affected as well. You are going to simply replicate the previous architecture on several AZs inside a region. The main tool to stitch your architectures together is a <em>load balancer</em>. And it is not any load balancer, it is an <em>Elastic</em> Load Balancer (ELB) as in anything cloudy. As its name suggests, the ELB will distribute traffic to your web servers as well as perform some health checks (are your servers running, at what speed, etc.). In case one server is down, the ELB will automatically route the traffic to the others. This is also useful to evenly spread traffic on your instances in order to avoid overloading in case of a sudden surge in traffic. You may also use two databases, with one being actively used while the other maintains a copy at all times.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/800/1*gpFbXHfWvqGoVKcUeoBA7g.png" /><figcaption>Duplicating your app across AZs makes it more resilient and available.</figcaption></figure><p>So far, you have made your app resilient and highly available. What if now, you want your app to be performant and efficient, even with millions of users?</p><h4><strong>Solving the volume problem</strong></h4><p>It is time to take advantage of the Edge locations we talked about earlier! On your website, you may have large static content like movies or pictures, that is not going to be edited but needs to be highly available and highly durable (you don’t wanna lose that uncle Brad’s pic). We are going to store this kind of data in a <em>Simple Storage Service</em> (S3) bucket and have it located closer to your users, thanks to Amazon CloudFront (Content Delivery Network). The content will be stored in your initial region of choice (e.g. Singapore) and replicated in the edge locations, all this managed by CloudFront for you. The advantage of using S3 is that it is an object storage solution, as opposed to a block storage solution used in your EC2 instance (called <em>Elastic Block Storage</em> or EBS, that you can think of as a hard drive). Without going into the details of the difference between the two, you can remember that object storage came as a solution to the explosion of data being generated these past few years:</p><ul><li>It is much more durable than block storage and it is easier to increase storage capacity over time while mitigating costs</li><li>It is well suited for storing objects that don’t need incremental changes like text (ideal for backups for instance)</li><li>The storage cost is reduced when accessing data infrequently. As an example, a normal S3 bucket costs around USD2 cents per GB per month, while an S3 Glacier bucket (for long-term archiving) costs USD0.2 cents (costs vary depending on the regions).</li></ul><p>Congrats! Your application is now robust and can serve your users with large content and low-latency connection throughout the world!</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/800/1*jYPtcHcf5OB4OpvGoXvuzg.png" /><figcaption>Increase the speed of your app by bringing static content closer to your users using S3 buckets with CloudFront.</figcaption></figure><p>What happens now when your needs vary over time? A sudden hype puts your web application under the spotlight and thousands of users flow on your website. Or inversely, you just passed a seasonal peak and face a drastic decrease in daily users. That’s when you need some automation!</p><h4><strong>Autoscaling</strong></h4><p>Varying traffic on your website will translate into very concrete changes in some metrics: storage and CPU usage for instance. With Amazon <em>CloudWatch</em>, you are able to monitor these metrics on a predefined group, say for instance the one below with four EC2 instances over two AZs:</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/800/1*TH5FrO6u7ZBUzxkqC1frUQ.png" /><figcaption>You can define AutoScaling groups across AZs.</figcaption></figure><p>In a simple case, you want to be able to add or remove this group depending on current needs. This is easily done using <em>AutoScaling </em>with which you can set up alarms. From there, you can define a scaling policy. For instance, let’s say you define an alarm that triggers when the average CPU utilization goes beyond 80% of the available capacity. You may choose to add a 30% capacity to your existing CPU resources, in case this alarm goes off. This is this flexibility that allows you to adapt to any variation in user traffic.</p><p>Here you go with the whole architecture of your web application:</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/800/1*F-KO2_NhVED2glCslRfjCw.png" /></figure><p>This is a lot to process and there are even more AWS services out there! Take storage for instance: you could be using <em>DynamoDB </em>for storing unstructured data or <em>ElastiCache </em>for extremely fast access to data. You could automate deployment using <em>Elastic Beanstalk</em> and so on. We cannot cover them all here but feel free to browse <a href="https://docs.aws.amazon.com/">Amazon documentation</a> to know more about them.</p><h3>Conclusion</h3><p>Overall, what you should remember is that cloud providers have built extremely resilient infrastructure throughout the world in order to host any kind of application so that you shouldn’t do it yourself. On top of cost savings, it brings you <em>agility</em>. With the example of AWS who is (by far) the market leader, we’ve seen how you could build a cloud architecture using their (hundreds of) services.</p><p>I hope you enjoyed the post. As it is my first, please let me know your feedback in the comments! And stay tuned for the next post where we will focus on the AWS Networking &amp; Security concepts (VPC, Security groups, Internet Getaway, etc.)!</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=dd512e8e2456" width="1" height="1" alt=""><hr><p><a href="https://medium.com/data-science/catching-up-with-the-cloud-trend-and-the-aws-ecosystem-dd512e8e2456">Catching up with the cloud trend and the AWS ecosystem</a> was originally published in <a href="https://medium.com/data-science">TDS Archive</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>
